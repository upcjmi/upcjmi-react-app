(this.webpackJsonpupcjmi=this.webpackJsonpupcjmi||[]).push([[45],{867:function(e,t,a){"use strict";a.r(t);a(415);var r=a(418),n=(a(115),a(59)),s=a(0),l=a.n(s),i=(a(49),a(21)),o=(a(413),a(417)),c=(a(214),a(404)),u=(a(114),a(5)),p=a(18),m=a.n(p),f=a(37),d=a(40),E=a(41),b=a(43),g=a(42),h=a(27),y=a(82),w=a(67),v=a(36),O=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).handleSubmit=function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=r.props,n=a.form,s=a.signIn,(0,n.validateFields)(function(){var e=Object(f.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||(a.password===a.verifyPassword?Object(y.g)({email:a.email,otp:a.otp,new_password:a.password}).then((function(){Object(v.f)(),s(a.email,a.password)})).catch((function(){Object(v.c)()})):Object(v.n)());case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getOTP=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({shouldGetOTP:!1},(function(){setTimeout((function(){r.setState({shouldGetOTP:!0})}),5e3)})),t=r.props.form,a=t.getFieldValue,e.next=5,Object(y.e)(a("email"));case 5:case"end":return e.stop()}}),e)}))),r.state={shouldGetOTP:!0},r}return Object(E.a)(a,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.inProgress,r=this.state.shouldGetOTP,n=t.getFieldDecorator;return l.a.createElement(o.a,{onSubmit:this.handleSubmit,className:"login-form",id:"sign-in-form"},l.a.createElement(o.a.Item,null,n("email",{rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Enter a valid email!"}]})(l.a.createElement(c.a,{prefix:l.a.createElement(u.a,{type:"user",className:"input-prefix"}),placeholder:"Email",type:"email",autoComplete:"username email",autoCapitalize:"none",autoCorrect:"off"}))),l.a.createElement("br",null),l.a.createElement(o.a.Item,null,n("otp",{rules:[{required:!0,message:"Please input your OTP!"},{message:"Enter a valid OTP!"}]})(l.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},l.a.createElement(c.a,{prefix:l.a.createElement(u.a,{type:"safety",className:"input-prefix"}),placeholder:"OTP",type:"number",autoCapitalize:"none",autoCorrect:"off"}),l.a.createElement(i.a,{onClick:this.getOTP,type:"link",disabled:!r,icon:a?"loading":"link"},"Get OTP")))),l.a.createElement("br",null),l.a.createElement(o.a.Item,null,n("password",{rules:[{required:!0,message:"Please input your password!"},{message:"Enter a valid password!"}]})(l.a.createElement(c.a,{prefix:l.a.createElement(u.a,{type:"lock",className:"input-prefix"}),placeholder:"Password",type:"password",secureInput:!0,autoCapitalize:"none",autoCorrect:"off"}))),l.a.createElement("br",null),l.a.createElement(o.a.Item,null,n("verifyPassword",{rules:[{required:!0,message:"Please input your verify password!"},{message:"Enter a valid verify password!"}]})(l.a.createElement(c.a,{prefix:l.a.createElement(u.a,{type:"lock",className:"input-prefix"}),placeholder:"Verify Password",type:"password",autoCapitalize:"none",autoCorrect:"off"}))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(o.a.Item,null,l.a.createElement(i.a,{htmlType:"submit",className:"login-form-button",type:"primary",icon:a?"loading":null},"Change Password"),l.a.createElement("br",null)))}}]),a}(l.a.Component),P=Object(h.b)((function(e){return{inProgress:e.auth.inProgress}}),(function(e){return{signIn:function(t,a){return e(Object(w.c)(t,a))}}}))(o.a.create({name:"forget-password"})(O)),j=n.a.Title;t.default=function(){return l.a.createElement("div",{className:"full-page center-hv grey lighten-3"},l.a.createElement(r.a,{className:"signinScreen-card"},l.a.createElement(j,null,"Forget Password"),l.a.createElement(P,null)))}}}]);
//# sourceMappingURL=45.3dc5883d.chunk.js.map